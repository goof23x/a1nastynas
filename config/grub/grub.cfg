# A1NAS Enhanced GRUB Configuration for Build Integration
# Professional branding compatible with live-build system

# Basic GRUB settings for live-build
set timeout=30
set default=0

# Load required modules for live system
insmod all_video
insmod gfxterm
insmod png
insmod jpeg
insmod part_gpt
insmod part_msdos
insmod iso9660
insmod loopback

# Custom colors for A1NAS branding
set color_normal=cyan/black
set color_highlight=white/blue

# A1NAS Professional Header
echo -e "\033[0;36m"
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘     â–„â–€â–ˆ â–„â–ˆ â–ˆâ–„ â–ˆ â–„â–€â–ˆ â–ˆâ–€   â–ˆâ–„ â–ˆ â–ˆâ–ˆâ–€ â–€â–ˆâ–€ â–ˆ â–ˆ â–ˆ â–ˆâ–€â–ˆ â–ˆâ–€â–ˆ â–ˆâ–„â–€        â•‘"
echo "â•‘     â–ˆâ–„â–ˆ â–€â–ˆ â–ˆâ–€â–„â–ˆ â–ˆâ–„â–ˆ â–„â–ˆ   â–ˆâ–€â–„â–ˆ â–ˆâ–ˆâ–„  â–ˆ  â–€â–„â–€â–„â–€ â–ˆâ–„â–ˆ â–ˆâ–€â–„ â–ˆ â–ˆ        â•‘"
echo "â•‘                                                                  â•‘"
echo "â•‘           ğŸš€ A1NAS - NETWORK ATTACHED STORAGE OS ğŸš€             â•‘"
echo "â•‘                      Professional Edition                       â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo -e "\033[0m"

# A1NAS Boot Menu Entries (compatible with live-build)
menuentry "ğŸš€ A1NAS Live Mode (Default)" --class a1nas {
    echo "ğŸ”„ Loading A1NAS Live System..."
    linux /live/vmlinuz boot=live components username=a1nas nosplash quiet splash
    initrd /live/initrd
}

menuentry "âš¡ A1NAS Performance Mode" --class a1nas {
    echo "âš¡ Loading A1NAS Performance Mode..."
    echo "   â¤ Optimized for storage workloads"
    linux /live/vmlinuz boot=live components username=a1nas acpi_osi=Linux pcie_aspm=off processor.max_cstate=1
    initrd /live/initrd
}

menuentry "ğŸ”§ A1NAS Debug Mode" --class a1nas {
    echo "ğŸ”§ Loading A1NAS Debug Mode..."
    echo "   â¤ Verbose logging enabled"
    linux /live/vmlinuz boot=live components username=a1nas debug systemd.log_level=debug
    initrd /live/initrd
}

menuentry "ğŸ›¡ï¸ A1NAS Safe Mode" --class a1nas {
    echo "ğŸ›¡ï¸ Loading A1NAS Safe Mode..."
    echo "   â¤ Minimal drivers for compatibility"
    linux /live/vmlinuz boot=live components username=a1nas nomodeset acpi=off
    initrd /live/initrd
}

menuentry "ğŸ’¾ A1NAS Persistent Storage" --class a1nas {
    echo "ğŸ’¾ Loading A1NAS with Persistent Storage..."
    echo "   â¤ Changes will be saved"
    linux /live/vmlinuz boot=live components username=a1nas persistence
    initrd /live/initrd
}

menuentry "ğŸ§° A1NAS Recovery Mode" --class a1nas {
    echo "ğŸ§° Loading A1NAS Recovery Mode..."
    echo "   â¤ Emergency access mode"
    linux /live/vmlinuz boot=live components username=a1nas single
    initrd /live/initrd
}

menuentry "ğŸ’» A1NAS Text Mode" --class a1nas {
    echo "ğŸ’» Loading A1NAS Text Mode..."
    linux /live/vmlinuz boot=live components username=a1nas text systemd.unit=multi-user.target
    initrd /live/initrd
}

menuentry "ğŸ”„ Reboot System" {
    echo "ğŸ”„ Rebooting system..."
    reboot
}

menuentry "âš¡ Shutdown System" {
    echo "âš¡ Shutting down system..."
    halt
}

# Boot information
echo ""
echo -e "\033[1;33mâ±ï¸  A1NAS will boot automatically in 30 seconds...\033[0m"
echo -e "\033[0;36mï¿½ Press any key to access boot options\033[0m"
echo -e "\033[0;32mğŸš€ Welcome to A1NAS - The Future of Network Storage!\033[0m"
echo ""
echo -e "\033[0;37mğŸ“‹ Boot Options:\033[0m"
echo -e "\033[0;32m   â€¢ Live Mode: Standard desktop experience\033[0m"
echo -e "\033[0;32m   â€¢ Performance: Optimized for storage workloads\033[0m"
echo -e "\033[0;32m   â€¢ Debug: Troubleshooting with verbose logs\033[0m"
echo -e "\033[0;32m   â€¢ Safe: Compatibility mode for older hardware\033[0m"